{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState, useRef } from \"react\";\n\nfunction useSticky() {\n  _s();\n\n  const [isSticky, setSticky] = useState(false);\n  const element = useRef(null);\n\n  const handleScroll = () => {\n    if (!element.current) return;\n    console.log();\n    window.scrollY > element.current.getBoundingClientRect().bottom ? setSticky(true) : setSticky(false);\n  }; // This function handle the scroll performance issue\n\n\n  const debounce = (func, wait = 20, immediate = true) => {\n    let timeOut;\n    return () => {\n      let context = this,\n          args = arguments;\n\n      const later = () => {\n        timeOut = null;\n        if (!immediate) func.apply(context, args);\n      };\n\n      const callNow = immediate && !timeOut;\n      clearTimeout(timeOut);\n      timeOut = setTimeout(later, wait);\n      if (callNow) func.apply(context, args);\n    };\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", debounce(handleScroll));\n    if (handleScroll) window.removeEventListener(\"scroll\", () => handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", () => handleScroll);\n    };\n  }, [debounce, handleScroll]);\n  return {\n    isSticky,\n    element\n  };\n}\n\n_s(useSticky, \"LZR3uTxto6+Bh+TvKd7BTAN08Qg=\");\n\nexport default useSticky;","map":{"version":3,"sources":["/Users/trantu/Assignment/assignment/src/component/hooks/useSticky.js"],"names":["useEffect","useState","useRef","useSticky","isSticky","setSticky","element","handleScroll","current","console","log","window","scrollY","getBoundingClientRect","bottom","debounce","func","wait","immediate","timeOut","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","addEventListener","removeEventListener"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,MAA9B,QAA4C,OAA5C;;AAEA,SAASC,SAAT,GAAsB;AAAA;;AACrB,QAAM,CAACC,QAAD,EAAWC,SAAX,IAAwBJ,QAAQ,CAAC,KAAD,CAAtC;AACC,QAAMK,OAAO,GAAGJ,MAAM,CAAC,IAAD,CAAtB;;AAEA,QAAMK,YAAY,GAAG,MAAM;AACzB,QAAG,CAACD,OAAO,CAACE,OAAZ,EAAqB;AACrBC,IAAAA,OAAO,CAACC,GAAR;AACAC,IAAAA,MAAM,CAACC,OAAP,GAAiBN,OAAO,CAACE,OAAR,CAAgBK,qBAAhB,GAAwCC,MAAzD,GACET,SAAS,CAAC,IAAD,CADX,GAEEA,SAAS,CAAC,KAAD,CAFX;AAGD,GAND,CAJoB,CAYlB;;;AACA,QAAMU,QAAQ,GAAG,CAACC,IAAD,EAAOC,IAAI,GAAG,EAAd,EAAkBC,SAAS,GAAG,IAA9B,KAAuC;AACtD,QAAIC,OAAJ;AACA,WAAO,MAAM;AACX,UAAIC,OAAO,GAAG,IAAd;AAAA,UACEC,IAAI,GAAGC,SADT;;AAEA,YAAMC,KAAK,GAAG,MAAM;AAClBJ,QAAAA,OAAO,GAAG,IAAV;AACA,YAAI,CAACD,SAAL,EAAgBF,IAAI,CAACQ,KAAL,CAAWJ,OAAX,EAAoBC,IAApB;AACjB,OAHD;;AAIA,YAAMI,OAAO,GAAGP,SAAS,IAAI,CAACC,OAA9B;AACAO,MAAAA,YAAY,CAACP,OAAD,CAAZ;AACAA,MAAAA,OAAO,GAAGQ,UAAU,CAACJ,KAAD,EAAQN,IAAR,CAApB;AACA,UAAIQ,OAAJ,EAAaT,IAAI,CAACQ,KAAL,CAAWJ,OAAX,EAAoBC,IAApB;AACd,KAXD;AAYD,GAdD;;AAiBJrB,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,MAAM,CAACiB,gBAAP,CAAwB,QAAxB,EAAkCb,QAAQ,CAACR,YAAD,CAA1C;AACA,QAAGA,YAAH,EAAkBI,MAAM,CAACkB,mBAAP,CAA2B,QAA3B,EAAqC,MAAMtB,YAA3C;AAClB,WAAO,MAAM;AACLI,MAAAA,MAAM,CAACkB,mBAAP,CAA2B,QAA3B,EAAqC,MAAMtB,YAA3C;AACD,KAFP;AAGD,GANQ,EAMN,CAACQ,QAAD,EAAWR,YAAX,CANM,CAAT;AASE,SAAO;AAAEH,IAAAA,QAAF;AAAYE,IAAAA;AAAZ,GAAP;AACD;;GAxCQH,S;;AA0CT,eAAeA,SAAf","sourcesContent":["import { useEffect, useState, useRef } from \"react\";\n\nfunction useSticky () {\n const [isSticky, setSticky] = useState(false);\n  const element = useRef(null)\n\n  const handleScroll = () => {\n    if(!element.current) return\n    console.log()\n    window.scrollY > element.current.getBoundingClientRect().bottom\n    ? setSticky(true)\n    : setSticky(false);\n  }\n\n    // This function handle the scroll performance issue\n    const debounce = (func, wait = 20, immediate = true) => {\n      let timeOut;\n      return () => {\n        let context = this,\n          args = arguments;\n        const later = () => {\n          timeOut = null;\n          if (!immediate) func.apply(context, args);\n        };\n        const callNow = immediate && !timeOut;\n        clearTimeout(timeOut);\n        timeOut = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    };\n  \n\nuseEffect(() => {\n  window.addEventListener(\"scroll\", debounce(handleScroll))\n  if(handleScroll)  window.removeEventListener(\"scroll\", () => handleScroll);\n  return () => {\n          window.removeEventListener(\"scroll\", () => handleScroll);\n        }  \n}, [debounce, handleScroll])\n\n\n  return { isSticky, element }\n}\n\nexport default useSticky\n"]},"metadata":{},"sourceType":"module"}