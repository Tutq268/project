{"ast":null,"code":"import _slicedToArray from\"/Users/trantu/Assignment/assignment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState,useRef}from\"react\";function useSticky(){var _arguments=arguments,_this=this;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSticky=_useState2[0],setSticky=_useState2[1];var element=useRef(null);var handleScroll=function handleScroll(){if(!element.current)return;window.scrollY>element.current.getBoundingClientRect().bottom?setSticky(true):setSticky(false);};// This function handle the scroll performance issue\nvar debounce=function debounce(func){var wait=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var immediate=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var timeOut;return function(){var context=_this,args=_arguments;var later=function later(){timeOut=null;if(!immediate)func.apply(context,args);};var callNow=immediate&&!timeOut;clearTimeout(timeOut);timeOut=setTimeout(later,wait);if(callNow)func.apply(context,args);};};useEffect(function(){window.addEventListener(\"scroll\",debounce(handleScroll));if(handleScroll)window.removeEventListener(\"scroll\",function(){return handleScroll;});return function(){window.removeEventListener(\"scroll\",function(){return handleScroll;});};},[debounce,handleScroll]);return{isSticky:isSticky,element:element};}export default useSticky;","map":{"version":3,"sources":["/Users/trantu/Assignment/assignment/src/component/hooks/useSticky.js"],"names":["useEffect","useState","useRef","useSticky","isSticky","setSticky","element","handleScroll","current","window","scrollY","getBoundingClientRect","bottom","debounce","func","wait","immediate","timeOut","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","addEventListener","removeEventListener"],"mappings":"0JAAA,OAASA,SAAT,CAAoBC,QAApB,CAA8BC,MAA9B,KAA4C,OAA5C,CAEA,QAASC,CAAAA,SAAT,EAAsB,mDACSF,QAAQ,CAAC,KAAD,CADjB,wCACdG,QADc,eACJC,SADI,eAEpB,GAAMC,CAAAA,OAAO,CAAGJ,MAAM,CAAC,IAAD,CAAtB,CAEA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAG,CAACD,OAAO,CAACE,OAAZ,CAAqB,OACrBC,MAAM,CAACC,OAAP,CAAiBJ,OAAO,CAACE,OAAR,CAAgBG,qBAAhB,GAAwCC,MAAzD,CACEP,SAAS,CAAC,IAAD,CADX,CAEEA,SAAS,CAAC,KAAD,CAFX,CAGD,CALD,CAOE;AACA,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAuC,IAAhCC,CAAAA,IAAgC,2DAAzB,EAAyB,IAArBC,CAAAA,SAAqB,2DAAT,IAAS,CACtD,GAAIC,CAAAA,OAAJ,CACA,MAAO,WAAM,CACX,GAAIC,CAAAA,OAAO,CAAG,KAAd,CACEC,IAAI,CAAGC,UADT,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClBJ,OAAO,CAAG,IAAV,CACA,GAAI,CAACD,SAAL,CAAgBF,IAAI,CAACQ,KAAL,CAAWJ,OAAX,CAAoBC,IAApB,EACjB,CAHD,CAIA,GAAMI,CAAAA,OAAO,CAAGP,SAAS,EAAI,CAACC,OAA9B,CACAO,YAAY,CAACP,OAAD,CAAZ,CACAA,OAAO,CAAGQ,UAAU,CAACJ,KAAD,CAAQN,IAAR,CAApB,CACA,GAAIQ,OAAJ,CAAaT,IAAI,CAACQ,KAAL,CAAWJ,OAAX,CAAoBC,IAApB,EACd,CAXD,CAYD,CAdD,CAiBJnB,SAAS,CAAC,UAAM,CACdS,MAAM,CAACiB,gBAAP,CAAwB,QAAxB,CAAkCb,QAAQ,CAACN,YAAD,CAA1C,EACA,GAAGA,YAAH,CAAkBE,MAAM,CAACkB,mBAAP,CAA2B,QAA3B,CAAqC,iBAAMpB,CAAAA,YAAN,EAArC,EAClB,MAAO,WAAM,CACLE,MAAM,CAACkB,mBAAP,CAA2B,QAA3B,CAAqC,iBAAMpB,CAAAA,YAAN,EAArC,EACD,CAFP,CAGD,CANQ,CAMN,CAACM,QAAD,CAAWN,YAAX,CANM,CAAT,CASE,MAAO,CAAEH,QAAQ,CAARA,QAAF,CAAYE,OAAO,CAAPA,OAAZ,CAAP,CACD,CAED,cAAeH,CAAAA,SAAf","sourcesContent":["import { useEffect, useState, useRef } from \"react\";\n\nfunction useSticky () {\n const [isSticky, setSticky] = useState(false);\n  const element = useRef(null)\n\n  const handleScroll = () => {\n    if(!element.current) return\n    window.scrollY > element.current.getBoundingClientRect().bottom\n    ? setSticky(true)\n    : setSticky(false);\n  }\n\n    // This function handle the scroll performance issue\n    const debounce = (func, wait = 20, immediate = true) => {\n      let timeOut;\n      return () => {\n        let context = this,\n          args = arguments;\n        const later = () => {\n          timeOut = null;\n          if (!immediate) func.apply(context, args);\n        };\n        const callNow = immediate && !timeOut;\n        clearTimeout(timeOut);\n        timeOut = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    };\n  \n\nuseEffect(() => {\n  window.addEventListener(\"scroll\", debounce(handleScroll))\n  if(handleScroll)  window.removeEventListener(\"scroll\", () => handleScroll);\n  return () => {\n          window.removeEventListener(\"scroll\", () => handleScroll);\n        }  \n}, [debounce, handleScroll])\n\n\n  return { isSticky, element }\n}\n\nexport default useSticky\n"]},"metadata":{},"sourceType":"module"}